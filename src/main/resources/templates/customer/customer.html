<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:insert="base/base.html :: head">
</head>
<body>
<!-- Page Wrapper -->
<div class="wrapper">
    <!--        Sidebar-->
    <nav th:insert="base/base.html :: sidebar"></nav>
    <!-- End of Sidebar -->
    <!-- Content Wrapper -->
    <section id="content-wrapper" class="d-flex flex-column section-wrapper">
        <!-- Main Content -->
        <div id="content">
            <!-- Topbar -->
            <nav th:insert="base/base.html :: 'topbar'"></nav>
            <!-- End of Topbar-->
            <!-- Begin Page Content -->
            <div class="container-fluid">
                <!-- Page Heading -->
                <h1 class="h3 mb-2 text-gray-800">Listado Clientes</h1>
                <!-- DataTales Cliente -->
                <div class="card shadow mb-4">
                    <div class="card-header py-3 card-items">
                        <h6 class="m-0 font-weight-bold text-primary">Listado Clientes</h6>
                        <a class="m-0 font-weight-bold text-primary" href="#" data-toggle="modal" data-target="#registerCustomerModal">
                            Registro Clientes
                        </a>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-bordered" id="dataTable">
                                <thead>
                                <tr>
                                    <th>Codigo</th>
                                    <th>Nombre Cliente</th>
                                    <th>Apellido Cliente</th>
                                    <th>Email</th>
                                    <th>Fecha de creación</th>
                                    <th>Acciones</th>
                                </tr>
                                </thead>
                                <tfoot>
                                <tr>
                                    <th>Codigo</th>
                                    <th>Nombre Cliente</th>
                                    <th>Apellido Cliente</th>
                                    <th>Email</th>
                                    <th>Fecha de creación</th>
                                    <th>Acciones</th>
                                </tr>
                                </tfoot>
                                <tbody>
                                <tr th:each="customer : ${customers}">
                                    <td th:text="${customer.id}">Codigo</td>
                                    <td th:text="${customer.name}">Nombre</td>
                                    <td th:text="${customer.lastName}">Apellido</td>
                                    <td th:text="${customer.email}">Email</td>
                                    <td th:text="${customer.createAt}">Fecha de creación</td>
                                    <td>
                                        <a class="btn btn-info" th:href="@{/customer/editar/{id}(id=${customer.id})}"><i class="fa fa-edit"></i></a>
                                        <button class="btn btn-danger" th:onclick="'javascript:eliminarDepartamento(' + ${customer.id} + ')'" data-target='#deleteModal' data-toggle="modal"><i class="fa fa-trash"></i></button>
                                    </td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- End Page Content -->
        </div>
        <!-- Footer -->
        <footer th:insert="base/base.html :: footer" class="sticky-footer bg-white"></footer>
        <!--  End of Footer-->
    </section>
</div>
<!-- End of Page Wrapper -->
<!--scroll-top-->
<a class="scroll-to-top rounded" href="#page-top">
    <i class="fas fa-angle-up"></i>
</a>
<!--end of scroll-top-->
<!--modal-->
<div th:replace="base/base.html :: #logoutModal"></div>
<!--end of modal-->
<!--    Register Modal-->
<div class="modal fade" id="registerCustomerModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="text-gray-900 mb-12 title-modal">Registro de Clientes</h1>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div th:object="${customer}" th:remove="tag">
                <ul th:if="${#fields.hasErrors('*')}" class="alert alert-danger">
                    <li th:each="err: ${#fields.errors('*')}" th:text="${err}"></li>
                </ul>
            </div>
            <form class="user form-register" th:action="@{/nuevo}" th:object="${customer}" method="POST">
                <label class="form-group label-form">
                    <label class="label-lform" for="name">Nombre Cliente : </label>
                    <input type="text" name="name" id="name" th:field="*{name}" class="form-control form-control-user input-form" placeholder="Digite el nombre del cliente : " required th:errorclass="'form-control alert-danger'">
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></small>
                </label>
                <label class="form-group label-form">
                    <label class="label-lform">Apellido Cliente : </label>
                    <input type="number" th:field="*{lastName}" class="form-control form-control-user input-form" placeholder="Digite el apellido : " required th:errorclass="'form-control alert-danger'">
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"></small>
                </label>
                <label class="form-group label-form">
                    <label  class="label-lform">Email : </label>
                    <input type="number" th:field="*{email}" class="form-control form-control-user input-form" placeholder="Digite el email : " required th:errorclass="'form-control alert-danger'">
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></small>
                </label>
                <label class="form-group label-form">
                    <label  class="label-lform">Fecha : </label>
                    <input type="number" th:field="*{createAt}" class="form-control form-control-user input-form" placeholder="Digite el email : " required th:errorclass="'form-control alert-danger'">
                    <small class="form-text text-danger" th:if="${#fields.hasErrors('createAt')}" th:errors="*{createAt}"></small>
                </label>
                <label class="form-group justify-content-around">
                    <button class="btn btn-danger" type="button" data-dismiss="modal">Cancelar</button>
                    <button class="btn btn-success">Guardar</button>
                </label>
            </form>
        </div>
    </div>
</div>
<!--    End Register Modal-->
<!--scripts-->
<div th:insert="base/base.html :: scripts-js"></div>
<!--end of scripts-->
</body>
</html>